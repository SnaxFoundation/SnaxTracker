<div
  fxLayout="row"
  fxLayoutAlign="space-between center"
  style="margin:20px 5px 10px;"
>
  <h3 class="mat-subheading-2" fxFlex>{{ 'Platform' | translate }}</h3>
</div>

<div
  class="table-container mat-elevation-z1"
  *ngIf="(platform$ | async) as platforms; else: loading"
>
  <div class="table-container mat-elevation-z1">
    <table mat-table [dataSource]="platform" style="border:none;">
      <ng-container *ngIf="(columnHeaders$ | async) as columnHeaders">
        <tr mat-header-row *matHeaderRowDef="columnHeaders"></tr>
        <tr mat-row *matRowDef="let row; columns: columnHeaders"></tr>
      </ng-container>
      <ng-container matColumnDef="platform_name">
        <th mat-header-cell *matHeaderCellDef>{{ 'Platform' | translate }}</th>
        <td mat-cell *matCellDef="let transaction">
          <id-64 [id]="transaction.trx.id"></id-64>
        </td>
      </ng-container>
      <ng-container matColumnDef="supply_share">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Supply Share' | translate }}
        </th>
        <td mat-cell *matCellDef="let transaction">supply share</td>
      </ng-container>
      <ng-container matColumnDef="scoring_round_time">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Scoring Round Time' | translate }}
        </th>
        <td mat-cell *matCellDef="let transaction">scoring round time</td>
      </ng-container>
      <ng-container matColumnDef="users_count">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Users Registered' | translate }}
        </th>
        <td mat-cell *matCellDef="let transaction">users amount</td>
      </ng-container>
      <ng-container matColumnDef="emission_total">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Total Emission' | translate }}
        </th>
        <td mat-cell *matCellDef="let transaction">emission</td>
      </ng-container>
      <ng-container matColumnDef="sr_time_last">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Last Scoring Round' | translate }}
        </th>
        <td mat-cell *matCellDef="let transaction">Last sr time</td>
      </ng-container>
      <ng-container matColumnDef="cpu">
        <th mat-header-cell *matHeaderCellDef>{{ 'CPU Usage' | translate }}</th>
        <td mat-cell *matCellDef="let transaction">
          {{ transaction.cpu_usage_us | number }} Âµs
        </td>
      </ng-container>
      <ng-container matColumnDef="net">
        <th mat-header-cell *matHeaderCellDef>{{ 'NET Usage' | translate }}</th>
        <td mat-cell *matCellDef="let transaction">
          {{ transaction.net_usage_words | toKB | number: '1.0-3' }} KB
        </td>
      </ng-container>
    </table>
  </div>
</div>
<ng-template #loading> <app-spinner></app-spinner> </ng-template>

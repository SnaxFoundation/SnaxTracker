<div
  fxLayout="row"
  fxLayoutAlign="space-between center"
  style="margin:20px 5px 10px;"
>
  <h3 class="mat-subheading-2" fxFlex>{{ 'Platform' | translate }}</h3>
</div>

<div
  class="table-container mat-elevation-z1"
  *ngIf="(platforms$ | async) as platforms; else: loading"
>
  <div class="table-container mat-elevation-z1">
    <table mat-table [dataSource]="platforms" style="border:none;">
      <ng-container *ngIf="(columnHeaders$ | async) as columnHeaders">
        <tr mat-header-row *matHeaderRowDef="columnHeaders"></tr>
        <tr mat-row *matRowDef="let row; columns: columnHeaders"></tr>
      </ng-container>
      <ng-container matColumnDef="platform_name">
        <th mat-header-cell *matHeaderCellDef>Platform name</th>
        <td mat-cell *matCellDef="let platform">
          <id-64 [id]="platform.platform_name">{{ platform.platform_name }}</id-64>
        </td>
      </ng-container>
      <ng-container matColumnDef="platform_account">
        <th mat-header-cell *matHeaderCellDef>Platform account</th>
        <td mat-cell *matCellDef="let platform">
          <id-64 [id]="platform.account">{{ platform.account }}</id-64>
        </td>
      </ng-container>
      <ng-container matColumnDef="supply_share">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Supply Share' | translate }}
        </th>
        <td mat-cell *matCellDef="let platform">
          {{ platform.weight | percent: '1.2' }}
        </td>
      </ng-container>
      <ng-container matColumnDef="scoring_round_time">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Scoring Round Time' | translate }}
        </th>
        <td mat-cell *matCellDef="let platform">{{ platform.period }} h</td>
      </ng-container>
      <ng-container matColumnDef="registered_users_count">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Users Registered' | translate }}
        </th>
        <td mat-cell *matCellDef="let platform">
          {{ platform.registered_account_count }}
        </td>
      </ng-container>
      <ng-container matColumnDef="users_count">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Users Total' | translate }}
        </th>
        <td mat-cell *matCellDef="let platform">
          {{ platform.total_account_count }}
        </td>
      </ng-container>
      <ng-container matColumnDef="emission_total">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Total Emission' | translate }}
        </th>
        <td mat-cell *matCellDef="let platform">{{ platform.sent_amount }}</td>
      </ng-container>
      <ng-container matColumnDef="sr_time_last">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'Last Scoring Round' | translate }}
        </th>
        <td mat-cell *matCellDef="let platform">
          {{ platform.last_scoring_time }}
        </td>
      </ng-container>
    </table>
  </div>
</div>
<ng-template #loading> <app-spinner></app-spinner> </ng-template>
